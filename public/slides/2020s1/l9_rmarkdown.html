<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>STA 326 2.0 Programming and Data Analysis with R</title>
    <meta charset="utf-8" />
    <meta name="author" content="Dr Thiyanga Talagala" />
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link href="libs/remark-css/default-fonts.css" rel="stylesheet" />
    <link href="libs/remark-css/duke-blue.css" rel="stylesheet" />
    <link href="libs/remark-css/hygge-duke.css" rel="stylesheet" />
    <link rel="stylesheet" href="libs/cc-fonts.css" type="text/css" />
    <link rel="stylesheet" href="libs/figure-captions.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# STA 326 2.0 Programming and Data Analysis with R
## Reproducible Reports with R-Markdown
### Dr Thiyanga Talagala
### Online distance learning/teaching materials during the COVID-19 outbreak.

---



background-image: url(workflowds_communication.png)
background-position: center
background-size: contain

# Data Science Workflow: Communicate

---

# Necessary packages

## Installation

```r
install.packages(knitr)
install.packages(rmarkdown)
```


&lt;img src="knitrhex.png" alt="knitrhex" width="300"/&gt; &lt;img src="rmarkdown.png" alt="rmarkdown" width="250"/&gt;


---

# Introduction to R Markdown

- R Markdown is a file format for making dynamic documents with R.

- R Markdown allows you to organize your code, outputs, content and commentary in one place.

- These documents are self-contained and fully reproducible which makes it very easy to share.

- R Markdown document is written in markdown.

- Markdown is one of the world's most popular markup language.
    - R Markdown (in R)
    - Jupyter Notebooks (in Python)
    

---

# Advantages

1. For .bold[.green[communicating]] to .bold[.red[decision makers]], who want to focus on the results and conclusions, not the code behind the analysis.

1. For .bold[.green[collaborating]] with other .bold[.red[data scientists]], who are interested in both your conclusions, and how you reached them (i.e. the codes that you used to take the outputs).

1. As an environment in which to do data science, as a modern day lab notebook where you can capture not only .bold[.blue[what you did]], but also .bold[.blue[what you were thinking]].


*From R for Data Science by Hadley Wickham and Grrett Grolemud.*
---
class: duke-orange, center, middle

# Your first rmarkdown document.


---
background-image: url(rmarkdown_step1.png)
background-position: center
background-size: contain


---
background-image: url(rmarkdown_step2.png)
background-position: center
background-size: contain

---

background-image: url(rmarkdown_step2_1.png)
background-position: center
background-size: contain
---

background-image: url(rmarkdown_step3.png)
background-position: center
background-size: contain

class: center, middle

---

background-image: url(componentsrmd.png)
background-position: center
background-size: contain

class: center, middle

---

background-image: url(rmarkdown_step4.png)
background-position: center
background-size: contain

class: center, middle




---

# Select a folder to save the document 

![](rmarkdown_save1.png)
---

# Give a name to the document

![](rmarkdown_save2.png)

---

background-image: url(rmarkdown_step5.png)
background-position: center
background-size: contain

class: center, middle

---

background-image: url(rmarkdown_step6.png)
background-position: center
background-size: contain

class: center, middle

---

background-image: url(rmarkdown_step7.png)
background-position: center
background-size: contain

class: center, middle

---

class: duke-orange, center, middle

# Edit .rmd file to include your content


---

# Change header

.pull-left[

**Code**

```r

# Header 1

## Header 2

### Header 3

```

]

.pull-right[

**Output**


# Header 1

## Header 2

### Header 3



]


---

# Add content

.pull-left[

**Code**

```r

# Header 1

This is section 1.

## Header 2

This is section 1.2

### Header 3

This is section 1.2.1

```

]

.pull-right[

**Output**


# Header 1

This is section 1.

## Header 2

This is section 1.2

### Header 3

This is section 1.2.1




]

---

# Add R codes

.pull-left[

**Code**

```r

# Header 1

This is section 1.

## Header 2

This is section 1.2

### Header 3

This is section 1.2.1

```

&lt;img src="codechunk_example.png" alt="codechunk_example" width="100"/&gt;
]

.pull-right[

**Output**


# Header 1

This is section 1.

## Header 2

This is section 1.2

### Header 3

This is section 1.2.1


```r
rnorm(2)
```

```
## [1] 1.6271067 0.3843959
```

]


---
# Chunk options

* `eval = FALSE` - prevents the code from being evaluated

* `include = FALSE` - runs the code but doesn't show it in the final document

* `echo = FALSE` - prevents the code but not the results from appearing

* `message = FALSE` - prevents messages from appearing in the finished file

* `results = "hide"` - hides the printed output

* `error = TRUE` - causes the render to continue even if the code returns an error
---

# Text formatting

.pull-left[

## Code

&lt;img src="text.png" alt="text" width="300"/&gt;


]

.pull-right[

## Output

*M1: This text is in italics.*

_M2: This is also italics._

**M3: This text is in bold.**

__M4: This is also bold.__


~~This text is strikethrough.~~

]

---

# Mathematical Equations

**The code:**

![](equationsrmd.png)


**Output:**

The general formula for the probability density function of the normal distribution with mean `\(\mu\)` and variance `\(\sigma\)` is given by

$$
f_X(x) = \frac{1}{\sigma\sqrt{(2\pi)}} e^{-(x-\mu)^2/2\sigma^2}.
$$


## How to type Greek letters?

Please read my blog post here: 

https://thiyanga.netlify.app/post/greekletters/

---

### Generate PDF and WORD documents

.pull-left[

**Create a PDF document**

![](pdfrmd.png)

Requires (MiKTex on Windows, MacTex 2013+ on OS X, Tex Live 2013+ on Linux) OR

Install tinytex in R. Type the following code on R Console.
```r
tinytex::install_tinytex()
```
]




.pull-right[

**Create a Word document**

![](wordrmd.png)

Requires an installation of MS Word.

]

---

# R Markdown Demonstration

&gt; Download [Rmarkdown_practical_lesson1.Rmd](/rscripts/rmarkdown_labwork/Rmarkdown_practical_lesson1.Rmd)

&gt; Download [sampleimage.jpg](/rscripts/rmarkdown_labwork/sampleimage.jpg)

&gt; Before running the file `Rmarkdown_practical_lesson1.Rmd`, save `Rmarkdown_practical_lesson1.Rmd` and `sampleimage.jpg` into your current working directory. 

&gt; Follow the video lecture for instructions. 


---
class: center, middle


Slides available at: hellor.netlify.app

All rights reserved by [Thiyanga S. Talagala](https://thiyanga.netlify.com/)
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="libs/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
